{"ts":1347280905288,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1347280915751,"patch":[[{"diffs":[[1,"\nfunction Game(canvas, ctx){\n    var that = this;\n    \n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.width = canvas.width;\n    this.height = canvas.height;\n    this.mouse = {x: this.width/2, y: 0};\n    this.bullets = [];\n    this.enemies = [];\n    this.tower = new Tower(this.width/2, this.height, 10, 20, 'rgb(0,0,0)');\n    this.viewfinder = new Viewfinder(0, 0, 20, 20, 'rgb(0,0,0)');\n    this.toClean = 0;\n    this.enemiesToClean = 0;\n    \n    this.createEnemies = setInterval(function() {\n        that.addEnemy = true;\n    }, 1000);\n    \n}\nGame.prototype.clear = function(){\n    this.ctx.fillStyle = 'rgb(245,245,245)';\n    this.ctx.fillRect( 0, 0, 255, 255 );\n}\n\n\n\nGame.prototype.draw = function(){\n    this.clear();\n    \n    if(this.addBullet){\n        var mouse = this.mouse;\n\n        //todo\n        var atan = game.tower.getRotate(mouse);           \n        game.bullets.push( new Bullet(game.tower.x, game.tower.y, 5, atan, 'rgba(125, 50, 50, 1)') );\n        this.addBullet = false;\n    }\n    if(this.addEnemy){\n        var x = Math.floor(Math.random() * this.width) + 1;\n        game.enemies.push( new Enemy(x, 0, 20, 20, 'rgba(125, 50, 50, 1)') );\n        this.addEnemy = false;\n    }\n    //enemies\n    var enemies = this.enemies;\n    var l = ( enemies && enemies.length) ? enemies.length : 0;\n    for (var i = 0; i < l; i++) {\n      var enemy = enemies[i];\n      \n      // We can skip the drawing of elements that have moved off the screen:\n      if (!enemy || enemy.y > this.height ){\n              \n              enemies[i] = false;\n              this.enemiesToClean++;\n              \n        }else{\n            enemies[i].draw(this.ctx);\n        }\n    }\n    \n    \n    \n    //Bullets\n    var shapes = this.bullets;\n    \n \n    // ** Add stuff you want drawn in the background all the time here **\n    this.tower.draw(this.ctx, this.mouse);\n    this.viewfinder.draw(this.ctx, this.mouse);\n \n    // draw all shapes\n    var l = ( shapes && shapes.length) ? shapes.length : 0;\n    for (var i = 0; i < l; i++) {\n      var shape = shapes[i];\n      \n      // We can skip the drawing of elements that have moved off the screen:\n      if (!shape || shape.x > this.width || shape.y > this.height ||\n          shape.x + shape.w < 0 || shape.y + shape.h < 0 || shape.offset > this.height){\n              \n              shapes[i] = false;\n              this.toClean++;\n              \n        }else{\n            shapes[i].draw(this.ctx);\n        }\n    }\n    \n    if(this.toClean > 2){\n        //console.log('clean', l);\n        this.bullets = shapes.filter(function(e){return e});\n        //console.log('cleaned: ', this.bullets.length);\n        this.toClean = 0;\n    }\n    if(this.enemiesToClean > 2){\n        //console.log('enemies clean', l);\n        this.enemies = enemies.filter(function(e){return e});\n        //console.log('enemies cleaned: ', this.enemies.length);\n        this.enemiesToClean = 0;\n    }\n}"]],"start1":0,"start2":0,"length1":0,"length2":2921}]],"length":2921,"saved":false}
{"ts":1347281057996,"patch":[[{"diffs":[[0,"\n    }\n}"],[1,"\n\n\n\nGame.prototype.getMouse = function(e) {\n  var element = canvas, offsetX = 0, offsetY = 0, mx, my;\n \n  // Compute the total offset\n  if (element.offsetParent !== undefined) {\n    do {\n      offsetX += element.offsetLeft;\n      offsetY += element.offsetTop;\n    } while ((element = element.offsetParent));\n  }\n \n  // Add padding and border style widths to offset\n  // Also add the <html> offsets in case there's a position:fixed bar\n  //offsetX += this.stylePaddingLeft + this.styleBorderLeft + this.htmlLeft;\n  //offsetY += this.stylePaddingTop + this.styleBorderTop + this.htmlTop;\n if( e.targetTouches && e.targetTouches[0] ){\n     mx = e.targetTouches[0].pageX - offsetX;\n     my = e.targetTouches[0].pageY - offsetY;\n }else{\n      mx = e.pageX - offsetX;\n      my = e.pageY - offsetY;\n }\n \n  // We return a simple javascript object (a hash) with x and y defined\n  return {x: mx, y: my};\n}\n\n"]],"start1":2913,"start2":2913,"length1":8,"length2":905}]],"length":3818,"saved":false}
{"ts":1347281517791,"patch":[[{"diffs":[[0,"    var "],[-1,"atan"],[1,"d"],[0," = game."]],"start1":812,"start2":812,"length1":20,"length2":17},{"diffs":[[0,".get"],[-1,"Rotate"],[1,"Diffs"],[0,"(mou"]],"start1":834,"start2":834,"length1":14,"length2":13},{"diffs":[[0," 5, "],[-1,"atan"],[1,"d.dx, d.dy"],[0,", 'r"]],"start1":928,"start2":928,"length1":12,"length2":18},{"diffs":[[0," y: my};\n}\n\n"],[1,"\n"]],"start1":3808,"start2":3808,"length1":12,"length2":13}]],"length":3821,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349876089363,"patch":[[{"diffs":[[0,".bullets"],[1,"Pool"],[0," = [];\n "]],"start1":215,"start2":215,"length1":16,"length2":20},{"diffs":[[0,".enemies"],[1,"Pool"],[0," = [];\n "]],"start1":242,"start2":242,"length1":16,"length2":20},{"diffs":[[0,"his."],[-1,"tower = new Tower(this.width/2, this.height, 10, 20, 'rgb(0,0,0)');\n    this.viewfinder = new Viewfinder(0, 0, 20, 20, 'rgb(0,0,0)');\n    this.toClean = 0;\n    this.enemiesToClean = 0;\n    \n"],[1,"bullets = [];\n    this.enemies = [];\n    \n    this.currentLevel = 0;\n    this.levels = [{\n        bulletsTimeout: 400,\n        enemiesTimeout: 600,\n        startEnemies: 30,\n        enemies: 30\n    }];\n    this.tower = new Tower(this.width/2, this.height, 10, 20, 'rgb(0,0,0)');\n    this.viewfinder = new Viewfinder(0, 0, 20, 20, 'rgb(0,0,0)');\n    this.toClean = 0;\n    this.enemiesToClean = 0;\n    this.addEnemy = 1;\n    this.score = 0;\n    this.lifes = 3;\n    this.beforeStart = true;\n    this.tweetHandler = false;\n    \n    this.bulletsTimeout = 400;\n    function bulletsFactory(){\n        that.addBullet = true;        \n        setTimeout(bulletsFactory, that.bulletsTimeout);\n    }\n    bulletsFactory();\n    \n    this.enemiesTimeout = 600;\n    function enemiesFactory(){\n        that.addEnemy = true;\n        setTimeout(enemiesFactory, that.enemiesTimeout);\n    }\n    enemiesFactory();\n    \n//"],[0,"    "]],"start1":266,"start2":266,"length1":198,"length2":907},{"diffs":[[0,"unction() {\n"],[1,"//"],[0,"        that"]],"start1":1207,"start2":1207,"length1":24,"length2":26},{"diffs":[[0,"emy = true;\n"],[1,"//"],[0,"    }, 1000)"]],"start1":1239,"start2":1239,"length1":24,"length2":26},{"diffs":[[0,"   \n"],[-1,"}\nGame.prototype.clear = function(){\n    this.ctx.fillStyle = 'rgb(245,245,245)';\n    this.ctx.fillRect( 0, 0, 255, 255 );\n}\n\n\n\nGame.prototype.draw = function(){\n    this.clear();"],[1,"//     this.createBullets = setInterval(function() {\n//        that.addBullet = true;\n//    }, 400);\n    \n}\n\nGame.prototype.startFactories = function(){\n    \n}\n\nGame.prototype.image = new Image();\nGame.prototype.image.src = 'data:image/  png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3AkLDSMPVfdqJwAAAWRJREFUOMttk79rwlAQxz9B5UEEFwmCZigGMhQydyiEjkKhf1P/HbeOmfo3FC2CgpkMFDIIAVOC2nSwl96L3vbuvbv7/rjnHA5v9XZXkaU5k6lH4Btcd4BEWRZsdxWBb9juqiYvZ2exntf6UjeSQmkozbI0B2Ay9ei8PD+9njqGwDfsizOPD3eMhn2Ox4p9cebz44vvHxgN+/R6htGwz3hsOHUMWZrj1PV7LZ11BL4BuJnXlJzFel5naU4c+xY8gDj2AXDdAUmyas6SA+gKF4Ao9Kzp+uFsdm8hKcsCwKYgha47sAQTUdt3AI7YKNNvqa1RiivyxrIxS3MLqsDU6DSthkKSrJop7YUqy6IpWG5ya6Gi0Ls0WG7yK+v0Qz29bauzWM/rKPSsSRq+LrxlcTfwDf8ILsKIoHqaXl+txdVfaG+bjraFzSK14YH3d/Zaol2aRCEN5W4bnqgvumgK4pA4UJYFvxvMELAqKY7sAAAAAElFTkSuQmCC';\n\nGame.prototype.clear = function(){\n    this.ctx.fillStyle = 'rgb(245,245,245)';\n    this.ctx.fillRect( 0, 0, this.width, this.height );    \n}\n\nGame.prototype.tile = function(){\n    \n    for (x = 0; x <= this.width; x = x + 16) {\n            for (y = 0; y <= this.width; y = y + 16) {\n                this.ctx.drawImage(this.image, x, y);\n            }\n        }\n    \n}\n\n\n\n\nGame.prototype.draw = function(){\n    var that = this;\n    if(this.beforeStart){\n        this.clear();\n        this.drawSplash(this.ctx);\n        this.canvas.addEventListener('click', function(e){\n            var timeout = 0;\n            if(that.blockClick){\n                return;   \n            }           \n            that.beforeStart = false;\n        });        \n        return;   \n    }\n    if(this.lifes < 1){\n        this.clear();\n        this.drawResult(this.ctx);  \n        \n        if(!this.tweetHandler){\n            this.canvas.addEventListener('click', function(e){\n                window.open( 'https://twitter.com/share?url='+\n                    encodeURIComponent(location.href)+\n                    '&text='+\n                    encodeURIComponent('Just ended Canon Defense! One of #js13kgames My score is: ' + that.score + '. Try the game at: ')\n                ,'_blank' );\n            });\n            this.tweetHandler = true;\n        }\n        return;\n    }"],[0,"\n   "]],"start1":1268,"start2":1268,"length1":187,"length2":2243},{"diffs":[[0,".mouse;\n"],[1,"        that.bulletsTimeout -= 0.1;"],[0,"\n       "]],"start1":3561,"start2":3561,"length1":16,"length2":51},{"diffs":[[0,"(mouse);"],[-1,"           "],[0,"\n       "]],"start1":3655,"start2":3655,"length1":27,"length2":16},{"diffs":[[0,"er.x"],[-1,", game.tower.y"],[1," + (20 * d.dx), game.tower.y + (20 * d.dy)"],[0,", 5,"]],"start1":3710,"start2":3710,"length1":22,"length2":50},{"diffs":[[0,"d.dy, 'rgba("],[-1,"125"],[1,"0"],[0,", "],[-1,"5"],[0,"0, "],[-1,"5"],[0,"0, 1)') );\n "]],"start1":3767,"start2":3767,"length1":34,"length2":30},{"diffs":[[0,"    "],[-1,"if(this.addEnemy){"],[1,"\n    var level = this.levels[this.currentLevel];\n    \n    \n    \n    \n    if(level.enemies && this.addEnemy){\n        \n        this.enemiesTimeout -= 0.9;\n        "],[0,"\n   "]],"start1":3834,"start2":3834,"length1":26,"length2":170},{"diffs":[[0,"dom() * "],[1,"("],[0,"this.wid"]],"start1":4036,"start2":4036,"length1":16,"length2":17},{"diffs":[[0,"idth"],[-1,") + 1"],[1," - 26)) + 2;\n        //var x = Math.floor(Math.random() * (this.width /2)) + this.width /2"],[0,";\n  "]],"start1":4051,"start2":4051,"length1":13,"length2":98},{"diffs":[[0,"nemy(x, 0, 2"],[-1,"0"],[1,"6"],[0,", "],[1,"3"],[0,"2"],[-1,"0"],[0,", 'rgba(125,"]],"start1":4179,"start2":4179,"length1":29,"length2":29},{"diffs":[[0,"dEnemy = false;\n"],[1,"        level.enemies--;\n"],[0,"    }\n    //enem"]],"start1":4240,"start2":4240,"length1":32,"length2":57},{"diffs":[[0,"ies.length : 0;\n"],[1,"    //Bullets\n    var bullets = this.bullets;\n    var bl = ( bullets && bullets.length) ? bullets.length : 0;\n    \n    var collision = false;\n    var yCollision = false;\n    \n    if(l && bl){\n        for (var i = 0; i < l; i++) {\n            var enemy = enemies[i];\n            if(enemy && enemy.live){\n                for (var j = 0; j < bl; j++) {\n                    var b = bullets[j];\n                    if(b){\n                        collision = false;\n                        yCollision = false;\n                        \n                        //a.y < b.y + b.height &&\n                        // a.y + a.height > b.y\n                        var eTopY = enemy.y;\n                        var eBottomY = enemy.y + enemy.h;\n                        var bTopY = b.y - b.w;\n                        var bBottomY = b.y + b.w;\n                        if( eTopY < bBottomY &&\n                         eBottomY > bTopY){\n                           //console.log('y collision b:'+j+' e:'+i);\n                           yCollision = true;\n                             \n                        }\n                        \n                        //look for collisions\n                        var eLeftX = enemy.x;\n                        var eRightX = enemy.x + enemy.w;\n                        var bLeftX = b.x - b.w;\n                        var bRightX = b.x + b.w;\n                        \n                        if(yCollision && \n                         eLeftX < bRightX &&\n                         eRightX > bLeftX ){\n                           //console.log('x collision b:'+j+' e:'+i);\n                           collision = true;\n                             \n                        }\n                        \n                        \n                        \n                        if(collision){\n                            console.log('BUUM!!!!');\n                             enemies[i].kill();\n                             bullets[j] = false;\n                             this.enemiesToClean++;\n                             this.toClean++;\n                             this.score++;\n                             break;\n                        }\n                       \n                    }\n                }\n            }\n        }\n    }\n    \n    this.tile();\n    \n"],[0,"    for (var i ="]],"start1":4380,"start2":4380,"length1":32,"length2":2309},{"diffs":[[0,"\n              \n"],[1,"              //enemy at the bottom!!!!!\n              if(enemy){\n                this.lifes--;\n              }\n              \n"],[0,"              en"]],"start1":6865,"start2":6865,"length1":32,"length2":159},{"diffs":[[0,"emiesToClean++;\n"],[1,"              continue;\n"],[0,"              \n "]],"start1":7063,"start2":7063,"length1":32,"length2":56},{"diffs":[[0," \n        }else{"],[1,"            "],[0,"\n            ene"]],"start1":7116,"start2":7116,"length1":32,"length2":44},{"diffs":[[0,"i].draw(this.ctx"],[-1,");"],[1,", i);\n            if(enemy.toRemove){\n                enemies[i] = false;\n                this.enemiesToClean++;\n            }"],[0,"\n        }\n    }"]],"start1":7165,"start2":7165,"length1":34,"length2":158},{"diffs":[[0,"    }\n        }\n"],[1,"        \n"],[0,"    }\n    \n    \n"]],"start1":7302,"start2":7302,"length1":32,"length2":41},{"diffs":[[0,"    "],[-1,"\n    //Bullets\n    var shapes = this.bullets;\n    \n \n    // ** Add stuff you want drawn in the background all the time here **\n    this.tower.draw(this.ctx, this.mouse);\n    this.viewfinder.draw(this.ctx, this.mouse);\n \n    // draw all shapes\n    var l = ( shapes && shapes.length) ? shapes.length : 0;"],[1,"//draw bullets"],[0,"\n   "]],"start1":7343,"start2":7343,"length1":310,"length2":22},{"diffs":[[0,"(var i = 0; i < "],[1,"b"],[0,"l; i++) {\n      "]],"start1":7370,"start2":7370,"length1":32,"length2":33},{"diffs":[[0,"var "],[-1,"shape = shape"],[1,"bullet = bullet"],[0,"s[i]"]],"start1":7403,"start2":7403,"length1":21,"length2":23},{"diffs":[[0,"f (!"],[-1,"shape || shape"],[1,"bullet || bullet"],[0,".x >"]],"start1":7519,"start2":7519,"length1":22,"length2":24},{"diffs":[[0,"idth || "],[-1,"shape"],[1,"bullet"],[0,".y > thi"]],"start1":7550,"start2":7550,"length1":21,"length2":22},{"diffs":[[0,"    "],[-1,"shape.x + shape.w < 0 || shape.y + shape"],[1,"bullet.x + bullet.w < 0 || bullet.y + bullet"],[0,".h <"]],"start1":7590,"start2":7590,"length1":48,"length2":52},{"diffs":[[0," < 0 || "],[-1,"shape"],[1,"bullet"],[0,".offset "]],"start1":7640,"start2":7640,"length1":21,"length2":22},{"diffs":[[0,"            "],[-1,"shape"],[1,"bullet"],[0,"s[i] = false"]],"start1":7695,"start2":7695,"length1":29,"length2":30},{"diffs":[[0,"        "],[-1,"shape"],[1,"bullet"],[0,"s[i].dra"]],"start1":7791,"start2":7791,"length1":21,"length2":22},{"diffs":[[0,"i].draw(this.ctx"],[1,", i"],[0,");\n"],[1,"            \n"],[0,"        }\n    }\n"]],"start1":7807,"start2":7807,"length1":35,"length2":51},{"diffs":[[0,"   }\n    }\n    \n"],[1,"    this.drawInfo(this.ctx);\n    \n    // ** Add stuff you want drawn in the background all the time here **\n    this.tower.draw(this.ctx, this.mouse);\n    this.viewfinder.draw(this.ctx, this.mouse);\n    \n"],[0,"    if(this.toCl"]],"start1":7847,"start2":7847,"length1":32,"length2":236},{"diffs":[[0,"s = "],[-1,"shape"],[1,"bullet"],[0,"s.fi"]],"start1":8147,"start2":8147,"length1":13,"length2":14},{"diffs":[[0,"nemiesToClean > "],[-1,"2"],[1,"0"],[0,"){\n        //con"]],"start1":8292,"start2":8292,"length1":33,"length2":33},{"diffs":[[0,";\n    }\n"],[1,"    \n    \n    if(!level.enemies && !this.enemies.length){\n     //todo change level   \n     this.changeLevel();\n    }\n    \n    \n}\n\nGame.prototype.changeLevel = function(){\n    var that = this;\n this.enemies = [];\n this.bullets = [];\n this.currentLevel++;\n this.beforeStart = true;\n if(!this.levels[this.currentLevel]){\n    this.levels[this.currentLevel] = this.levels[this.currentLevel - 1];\n    this.levels[this.currentLevel].enemiesTimeout -= 50;\n    this.levels[this.currentLevel].bulletsTimeout -= 25;\n    this.levels[this.currentLevel].enemies = this.levels[this.currentLevel].startEnemies += 10;\n }\n var level = this.levels[this.currentLevel];\n this.bulletsTimeout = level.bulletsTimeout;\n this.enemiesTimeout = level.enemiesTimeout;\n this.blockClick = true;\n setTimeout(function(){\n     that.blockClick = false;\n }, 200);\n}\n\n\nGame.prototype.drawInfo = function(ctx){\n    ctx.fillStyle = 'red';\n    ctx.font = \"bold 30pt Calibri\";\n    ctx.fillText(new Array(this.lifes+1).join(\"â™¥\"), 20, this.height - 10);\n    \n    ctx.fillStyle = 'rgba(0,0,0, 0.9)';\n    ctx.font = \"bold 14pt Calibri\";\n    ctx.fillText(\"SCORE: \" + this.score, this.width / 2 + 20, this.height - 10);\n    \n    ctx.fillStyle = 'rgba(0,0,0, 0.6)';\n    ctx.font = \"bold 12pt Calibri\";\n    ctx.fillText(\"Level: \" + (this.currentLevel+1) + ' wave:'+this.levels[this.currentLevel].enemies, 10, 14);\n}\n\nGame.prototype.drawResult = function(ctx){    \n    ctx.fillStyle = 'red';\n    ctx.font = \"italic 30pt Calibri\";\n    ctx.fillText(\"GAME OVER!\", 10, 90);\n    ctx.font = \"italic 20pt Calibri\";\n    ctx.fillText(\"Killed: \" + this.score, 70, 140);\n    ctx.fillStyle = 'blue';\n    ctx.font = \"italic 15pt Calibri\";\n    ctx.fillText(\"Click to tweet your score!\", 20, 180);\n    ctx.font = \"italic 10pt Calibri\";\n    ctx.fillText(\"Refresh to play again :)\", 60, 200);\n}\n\nGame.prototype.drawSplash = function(ctx){ \n    if(this.currentLevel == 0){\n            \n        ctx.fillStyle = 'black';\n        ctx.font = \"bold 20pt Calibri\";\n        ctx.fillText(\"Click or tap to start!\", 10, 100);\n        ctx.font = \"13pt Calibri\";\n        ctx.fillText(\"Tip: click or tap for instant fire\", 10, 200);\n    }else{\n        ctx.fillStyle = 'black';\n        ctx.font = \"bold 18pt Calibri\";\n        ctx.fillText(\"Click or start level: \" + (this.currentLevel+1) , 10, 100);\n        ctx.font = \"13pt Calibri\";\n        ctx.fillText(\"Tip: click or tap for instant fire\", 10, 200);\n    }\n"],[0,"}"],[-1,"\n"],[0,"\n\n\nGame."]],"start1":8513,"start2":8513,"length1":18,"length2":2445}]],"length":11847,"saved":false}
{"ts":1349876252358,"patch":[[{"diffs":[[0,"this.mouse;\n"],[1,"        var newBullet; \n    \n"],[0,"        that"]],"start1":3557,"start2":3557,"length1":24,"length2":53},{"diffs":[[0,"-= 0.1;\n"],[1,"        var x = game.tower.x + (20 * d.dx);\n        var y = game.tower.y + (20 * d.dy);\n"],[0,"        "]],"start1":3626,"start2":3626,"length1":16,"length2":104},{"diffs":[[0,"    "],[-1,"game"],[1,"if(this"],[0,".bullets"],[-1,".push("],[1,"Pool.length){\n          "],[0," new"],[-1," "],[0,"Bullet"],[-1,"(game.tower.x + (20 * d.dx), game.tower.y + (20 * d.dy), 5, d.dx, d.dy, 'rgba(0, 0, 0, 1)')"],[1," = this.bulletsPool.pop();\n           newBullet.x = x;\n           newBullet.y = y;\n        }else{\n            newBullet = ew Bullet(x, y, 5, d.dx, d.dy, 'rgba(0, 0, 0, 1)');\n        }\n            \n        game.bullets.push( n"],[0," );\n"]],"start1":3785,"start2":3785,"length1":128,"length2":282}]],"length":12118,"saved":false}
{"ts":1349876352500,"patch":[[{"diffs":[[0,"ullet = "],[1,"n"],[0,"ew Bulle"]],"start1":3952,"start2":3952,"length1":16,"length2":17},{"diffs":[[0,".push( n"],[1,"ewBullet"],[0," );\n    "]],"start1":4056,"start2":4056,"length1":16,"length2":24},{"diffs":[[0,"{\n              "],[1,"this.bulletsPool.push(bullets[i]);"],[0,"\n              b"]],"start1":7956,"start2":7956,"length1":32,"length2":66}]],"length":12161,"saved":false}
{"ts":1349876410444,"patch":[[{"diffs":[[0,"-= 0.1;\n"],[1,"        \n        //todo\n        var d = game.tower.getDiffs(mouse);\n"],[0,"        "]],"start1":3626,"start2":3626,"length1":16,"length2":84},{"diffs":[[0,"y);\n"],[-1,"        //todo\n        var d = game.tower.getDiffs(mouse);\n"],[0,"    "]],"start1":3786,"start2":3786,"length1":67,"length2":8}]],"length":12170,"saved":false}
{"ts":1349876536301,"patch":[[{"diffs":[[0,"< 0 "],[-1,"|| bullet.offset > this.height"],[0,"){\n "]],"start1":7930,"start2":7930,"length1":38,"length2":8}]],"length":12140,"saved":false}
{"ts":1349876544349,"patch":[[{"diffs":[[0,"h(bullet"],[-1,"s[i]"],[0,");\n     "]],"start1":7971,"start2":7971,"length1":20,"length2":16}]],"length":12136,"saved":false}
{"ts":1349876596968,"patch":[[{"diffs":[[0,"[i].kill();\n"],[1,"                             this.bulletsPool.push(b);\n"],[0,"            "]],"start1":6578,"start2":6578,"length1":24,"length2":79}]],"length":12191,"saved":false}
{"ts":1349876804750,"patch":[[{"diffs":[[0,".y = y;\n"],[1,"           newBullet.dx = d.dx;\n           newBullet.dy = d.dy;\n"],[0,"        "]],"start1":3922,"start2":3922,"length1":16,"length2":80}]],"length":12255,"saved":false}
{"ts":1349876815420,"patch":[[{"diffs":[[0,"     if("],[-1,"this"],[1,"game"],[0,".bullets"]],"start1":3793,"start2":3793,"length1":20,"length2":20}]],"length":12255,"saved":false}
{"ts":1349876830597,"patch":[[{"diffs":[[0,"ullet = "],[-1,"this"],[1,"game"],[0,".bullets"]],"start1":3842,"start2":3842,"length1":20,"length2":20}]],"length":12255,"saved":false}
{"ts":1349876836378,"patch":[[{"diffs":[[0,"ol.length){\n"],[1,"            debugger;\n"],[0,"           n"]],"start1":3815,"start2":3815,"length1":24,"length2":46}]],"length":12277,"saved":false}
